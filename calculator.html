<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator and Probability Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="calculator.html">Calculator</a></li>
                <li><a href="members.html">Members</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="calculator">
            <h1>Calculator for Permutation, Combination, and Probability</h1>
            
            <div class="form">
                <label for="n">Enter n:</label>
                <input type="number" id="n" placeholder="Enter n">
                <label for="r">Enter r:</label>
                <input type="number" id="r" placeholder="Enter r">
            </div>

            <div class="buttons">
                <button onclick="calculatePermutation()">Calculate Permutation</button>
                <button onclick="calculateCombination()">Calculate Combination</button>
                <button onclick="calculateProbability()">Calculate Probability</button>
                <button onclick="clearResults()">Clear</button>
            </div>

            <div class="result">
                <p id="result"></p>
            </div>
        </section>

        <section id="probability-game">
            <h1>Interactive Probability Game: Drawing Balls from a Bag</h1>
            <p>
                Imagine a bag with different colored balls. Guess the probability of drawing a specific color!
            </p>
            <div class="game">
                <label for="redBalls">Number of Red Balls:</label>
                <input type="number" id="redBalls" placeholder="Enter count">
                <label for="blueBalls">Number of Blue Balls:</label>
                <input type="number" id="blueBalls" placeholder="Enter count">
                <label for="greenBalls">Number of Green Balls:</label>
                <input type="number" id="greenBalls" placeholder="Enter count">
            </div>
            <button onclick="startGame()">Start Game</button>
            <p id="gameResult"></p>
            <button onclick="drawBall()">Draw a Ball</button>
            <p id="drawResult"></p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Probability, Permutation, and Combination</p>
    </footer>

    <!-- JavaScript directly included -->
    <script>
        function factorial(n) {
            let result = 1;
            for (let i = 1; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        function calculatePermutation() {
            let n = parseInt(document.getElementById("n").value);
            let r = parseInt(document.getElementById("r").value);

            if (n >= r) {
                let result = factorial(n) / factorial(n - r);
                document.getElementById("result").innerText = "Permutation (P) = " + result;
            } else {
                document.getElementById("result").innerText = "Invalid input: n must be greater than or equal to r.";
            }
        }

        function calculateCombination() {
            let n = parseInt(document.getElementById("n").value);
            let r = parseInt(document.getElementById("r").value);

            if (n >= r) {
                let result = factorial(n) / (factorial(r) * factorial(n - r));
                document.getElementById("result").innerText = "Combination (C) = " + result;
            } else {
                document.getElementById("result").innerText = "Invalid input: n must be greater than or equal to r.";
            }
        }

        function calculateProbability() {
            let n = parseInt(document.getElementById("n").value);
            let r = parseInt(document.getElementById("r").value);

            if (n >= r) {
                let result = r / n;
                document.getElementById("result").innerText = "Probability = " + result;
            } else {
                document.getElementById("result").innerText = "Invalid input: n must be greater than or equal to r.";
            }
        }

        function clearResults() {
            document.getElementById("n").value = '';
            document.getElementById("r").value = '';
            document.getElementById("result").innerText = '';
        }

        // Probability Game Logic
        let balls = [];

        function startGame() {
            let redBalls = parseInt(document.getElementById("redBalls").value);
            let blueBalls = parseInt(document.getElementById("blueBalls").value);
            let greenBalls = parseInt(document.getElementById("greenBalls").value);

            if (isNaN(redBalls) || isNaN(blueBalls) || isNaN(greenBalls)) {
                document.getElementById("gameResult").innerText = "Please enter valid counts for all colors.";
                return;
            }

            balls = [];
            for (let i = 0; i < redBalls; i++) balls.push("Red");
            for (let i = 0; i < blueBalls; i++) balls.push("Blue");
            for (let i = 0; i < greenBalls; i++) balls.push("Green");

            document.getElementById("gameResult").innerText = `Game set up! Total balls: ${balls.length}`;
            document.getElementById("drawResult").innerText = '';
        }

        function drawBall() {
            if (balls.length === 0) {
                document.getElementById("drawResult").innerText = "No balls to draw! Start the game first.";
                return;
            }

            let randomIndex = Math.floor(Math.random() * balls.length);
            let drawnBall = balls[randomIndex];

            document.getElementById("drawResult").innerText = `You drew a ${drawnBall} ball!`;
        }
    </script>
</body>
</html>
